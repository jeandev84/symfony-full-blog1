{% extends 'base.html.twig' %}

{% block title %}Posts{% endblock %}

{% block body %}
{#  {{ dump(posts) }}#}
  {% for message in app.flashes('success') %}
     <div class="alert alert-success">
         {{ message }}
     </div>
  {% endfor %}

  {#<div class="m-2">
      <a href="{{ path('post.create') }}" class="btn btn-success">Create</a>
  </div>#}

  <h2>List of all posts</h2>
  <table class="table table-striped">
      <thead>
         <tr>
            <td>ID</td>
            <td>Title</td>
            <td>Actions</td>
         </tr>
      </thead>
      <tbody>
         {% for post in posts %}
             <tr>
                 <td>{{ post.id }}</td>
                 <td>
                     <a href="{{ path('post.show', {id: post.id}) }}">{{ post.title }}</a>
                 </td>
                 <td>
                     <a href="{{ path('post.delete', {id: post.id}) }}" class="text-danger">
                         Delete
                     </a>
                 </td>
             </tr>
         {% endfor %}
      </tbody>
  </table>
{% endblock %}
